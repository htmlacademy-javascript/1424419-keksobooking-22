{"version":3,"sources":["webpack://keksobooking/webpack/bootstrap","webpack://keksobooking/webpack/runtime/define property getters","webpack://keksobooking/webpack/runtime/hasOwnProperty shorthand","webpack://keksobooking/./source/js/data.js","webpack://keksobooking/./source/js/card.js","webpack://keksobooking/./source/js/util.js","webpack://keksobooking/./source/js/filters.js","webpack://keksobooking/./source/js/pictures.js","webpack://keksobooking/./source/js/popup.js","webpack://keksobooking/./source/js/form.js","webpack://keksobooking/./source/js/api.js","webpack://keksobooking/./source/js/map.js","webpack://keksobooking/./source/js/main.js"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","HOUSE_TYPE","flat","bungalow","house","palace","cardTemplate","document","querySelector","content","showAlert","alertContainer","createElement","style","zIndex","position","left","top","right","padding","fontSize","textAlign","backgroundColor","textContent","body","append","setTimeout","remove","DEFAULT_VALUE","filterForm","selectsFilter","querySelectorAll","featuresFilter","housingType","housingPrice","housingRooms","housingGuests","filterOffers","offer","type","value","rooms","Number","filterByRooms","guests","price","filterByPrice","features","checkedFeatures","Array","from","every","feature","includes","filterByFeatures","classList","add","disabled","select","disableFilter","FILE_TYPES","DEFAULT_IMG","avatarFileChooser","avatarPreview","houseFileChooser","housePreview","setPreviewPhoto","fileChoose","previewElement","addEventListener","file","files","fileName","name","toLowerCase","some","it","endsWith","reader","FileReader","src","result","readAsDataURL","createImgElement","width","height","alt","display","justifyContent","alignItems","appendChild","main","newSuccessPopup","newErrorPopup","cloneNode","closeErrorButton","onPopupKeyDown","evt","preventDefault","closePopup","contains","removeChild","removeEventListener","MIN_HOUSE_PRICE","ROOM_CAPACITY","adForm","typeFlat","priceFlat","timeIn","timeOut","fieldsets","address","capacity","resetButton","fieldset","disableForm","validatePrice","placeholder","min","validateCapacity","peopleAmount","capacityOptions","forEach","option","seatsAmount","selected","resetForm","reset","resetMap","onSuccess","onFail","fetch","method","then","response","ok","catch","sendData","FormData","target","COORDINATES","lat","lng","setDefaultAddress","map","L","on","activateFilter","activateForm","setView","tileLayer","attribution","addTo","mainPinMarker","icon","iconUrl","iconSize","iconAnchor","mainMarker","marker","draggable","getLatLng","toFixed","anotherPin","markers","renderOffersOnMap","offers","slice","filter","anotherMarker","location","bindPopup","author","cardElement","title","checkin","checkout","description","avatar","availableFeaturesList","innerHTML","insertAdjacentHTML","photoList","photos","photo","generateCard","push","json","cb","_","debounce","removeLayer","setResetFilter","setLatLng"],"mappings":"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","file":"main.bundle.js","sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import {getRandomInteger, getRandomFloatNumber, getRandomArrayElement, getRandomArrayLength} from './util.js'\n\nconst TITLE = [\n  'Уютная квартира в центре Токио',\n  'Просторная квартира для вашей семьи',\n  'Апартаменты рядом с метро',\n  'Квартира от застройщика в спальном районе Токио',\n];\n\nconst TYPE = [\n  'palace',\n  'flat',\n  'house',\n  'bungalow',\n];\n\nconst CHECKIN = [\n  '12:00',\n  '13:00',\n  '14:00',\n];\n\nconst CHECKOUT = [\n  '12:00',\n  '13:00',\n  '14:00',\n];\n\nconst FEATURES = [\n  'wifi',\n  'dishwasher',\n  'parking',\n  'washer',\n  'elevator',\n  'conditioner',\n];\n\nconst DESCRIPTION = [\n  'Квартира в тихом районе с прекрасным видом из окна',\n  'Магазин в шаговой доступности',\n  'Квартира оборудована кондиционерами и теплым полом',\n  'Все комнаты выполнены в традиционном японском стиле',\n];\n\nconst PHOTOS = [\n  'http://o0.github.io/assets/images/tokyo/hotel1.jpg',\n  'http://o0.github.io/assets/images/tokyo/hotel2.jpg',\n  'http://o0.github.io/assets/images/tokyo/hotel3.jpg',\n];\n\nconst AvatarNumber = {\n  MIN: 1,\n  MAX: 8,\n};\n\nconst PriceRange = {\n  MIN: 500,\n  MAX: 10000,\n};\n\nconst RoomsRange = {\n  MIN: 1,\n  MAX: 10,\n};\n\nconst GuestsQuantity = {\n  MIN: 1,\n  MAX: 10,\n};\n\nconst CoordinateX = {\n  MIN: 35.65000,\n  MAX: 35.70000,\n};\n\nconst CoordinateY = {\n  MIN: 139.70000,\n  MAX: 139.80000,\n};\n\nconst COORDINATE_FLOAT_POINT = 5;\n\nconst ARRAY_LENGTH = 10;\n\nconst getOffer = () => {\n  const xCoordinate = getRandomFloatNumber(CoordinateX.MIN, CoordinateX.MAX, COORDINATE_FLOAT_POINT);\n  const yCoordinate = getRandomFloatNumber(CoordinateY.MIN, CoordinateY.MAX, COORDINATE_FLOAT_POINT);\n\n  return {\n    author: {\n      avatar: `img/avatars/user0${getRandomInteger(AvatarNumber.MIN, AvatarNumber.MAX)}.png`,\n    },\n\n    offer: {\n      title: getRandomArrayElement(TITLE),\n      address: `${xCoordinate}, ${yCoordinate}`,\n      price: getRandomInteger(PriceRange.MIN, PriceRange.MAX),\n      type: getRandomArrayElement(TYPE),\n      rooms: getRandomInteger(RoomsRange.MIN, RoomsRange.MAX),\n      guests: getRandomInteger(GuestsQuantity.MIN, GuestsQuantity.MAX),\n      checkin: getRandomArrayElement(CHECKIN),\n      checkout: getRandomArrayElement(CHECKOUT),\n      features: getRandomArrayLength(FEATURES),\n      description: getRandomArrayElement(DESCRIPTION),\n      photos: getRandomArrayLength(PHOTOS),\n    },\n\n    location: {\n      x: xCoordinate,\n      y: yCoordinate,\n    },\n  };\n};\n\nconst createOffer = () => new Array(ARRAY_LENGTH).fill(null).map(getOffer);\n\nexport {createOffer};\n","const HOUSE_TYPE = {\n  flat: 'Квартира',\n  bungalow: 'Бунгало',\n  house: 'Дом',\n  palace: 'Дворец ',\n};\n\nconst cardTemplate = document.querySelector('#card').content.querySelector('.popup');\n\nconst generateCard = ({author, offer}) => {\n  const cardElement = cardTemplate.cloneNode(true);\n\n  cardElement.querySelector('.popup__title').textContent = offer.title;\n  cardElement.querySelector('.popup__text--address').textContent = offer.address;\n  cardElement.querySelector('.popup__text--price').textContent = `${offer.price} ₽/ночь`;\n  cardElement.querySelector('.popup__type').textContent = HOUSE_TYPE[offer.type];\n  cardElement.querySelector('.popup__text--capacity').textContent = `${offer.rooms} комнаты для ${offer.guests} гостей`;\n  cardElement.querySelector('.popup__text--time').textContent = `Заезд после ${offer.checkin}, выезд до ${offer.checkout}`;\n  cardElement.querySelector('.popup__description').textContent = offer.description;\n  cardElement.querySelector('.popup__avatar');\n  cardElement.querySelector('img').src = author.avatar;\n\n  const availableFeaturesList = cardElement.querySelector('.popup__features');\n  availableFeaturesList.innerHTML = null;\n  offer.features.forEach(feature => {\n    availableFeaturesList.insertAdjacentHTML('beforeend', `<li class=\"popup__feature popup__feature--${feature}\"></li>`)\n  });\n\n  const photoList = cardElement.querySelector('.popup__photos');\n  photoList.innerHTML = null;\n  offer.photos.forEach(photo => {\n    photoList.insertAdjacentHTML('beforeend', `<img src=\"${photo}\" class=\"popup__photo\" width=\"45\" height=\"40\" alt=\"Фотография жилья\">`)\n  });\n\n  return cardElement;\n};\n\nexport {generateCard};\n","const ALERT_SHOW_TIME = 3500;\n\n//Целое число из диапазона\nconst getRandomInteger  = (min, max) => {\n  if (min > max) {\n    throw new Error('Неверно указан числовой диапазон');\n  }\n  const random = min - 0.5 + Math.random() * (max + 1 - min);\n  return Math.round(random);\n};\n\n//Число с плаваюзей точкой из диапазона\nconst getRandomFloatNumber = (min, max, floatPoint) => {\n  if (min > max) {\n    throw new Error('Неверно указан числовой диапазон');\n  }\n  const randomFloat = Math.random() * (max - min) + min;\n  return randomFloat.toFixed(floatPoint);\n};\n\n//Случайный элемент из массива\nconst getRandomArrayElement = (element) => element[Math.floor(Math.random() * element.length)];\n\n//Массив случайной длины\nconst getRandomArrayLength = (array) => {\n  const newArray = [];\n\n  for (let i = 0; i < getRandomInteger(1, array.length); i++) {\n    newArray.push(array[i]);\n  }\n  return newArray;\n};\n\nconst showAlert = () => {\n  const alertContainer = document.createElement('div');\n  alertContainer.style.zIndex = 100;\n  alertContainer.style.position = 'fixed';\n  alertContainer.style.left = 0;\n  alertContainer.style.top = 0;\n  alertContainer.style.right = 0;\n  alertContainer.style.padding = '10px 3px';\n  alertContainer.style.fontSize = '35px';\n  alertContainer.style.textAlign = 'center';\n  alertContainer.style.backgroundColor = '#ff4040';\n\n  alertContainer.textContent = 'Ошибка загрузки данных. Попробуйте ещё раз';\n\n  document.body.append(alertContainer);\n\n  setTimeout(() => {\n    alertContainer.remove();\n  }, ALERT_SHOW_TIME);\n};\n\nexport {getRandomInteger, getRandomFloatNumber, getRandomArrayElement, getRandomArrayLength, showAlert};\n","import {resetButton} from './form.js'\n\nconst DEFAULT_VALUE = 'any';\n\nconst PriceValue = {\n  LOW: 10000,\n  HIGH: 50000,\n};\n\nconst filterForm = document.querySelector('.map__filters');\nconst selectsFilter = filterForm.querySelectorAll('select');\nconst featuresFilter = filterForm.querySelector('#housing-features');\nconst housingType = filterForm.querySelector('#housing-type');\nconst housingPrice = filterForm.querySelector('#housing-price');\nconst housingRooms = filterForm.querySelector('#housing-rooms');\nconst housingGuests = filterForm.querySelector('#housing-guests');\n\nconst filterByType = (type) => {\n  return housingType.value === DEFAULT_VALUE || housingType.value === type;\n};\n\nconst filterByRooms = (rooms) => {\n  return housingRooms.value === DEFAULT_VALUE || Number(housingRooms.value) === rooms;\n};\n\nconst filterByGuests = (guests) => {\n  return housingGuests.value === DEFAULT_VALUE || Number(housingGuests.value) === guests;\n};\n\nconst filterByPrice = (price) => {\n  switch (housingPrice.value) {\n    case DEFAULT_VALUE:\n      return true;\n    case 'middle':\n      return price >= PriceValue.LOW && price <= PriceValue.HIGH;\n    case 'low':\n      return price < PriceValue.LOW;\n    case 'high':\n      return price >= PriceValue.HIGH;\n  }\n};\n\nconst filterByFeatures = (features) => {\n  const checkedFeatures = featuresFilter.querySelectorAll('input:checked');\n\n  return Array.from(checkedFeatures).every((feature) => {\n    return features.includes(feature.value);\n  });\n};\n\nconst filterOffers = ({offer}) => {\n  return (\n    filterByType(offer.type) &&\n    filterByRooms(offer.rooms) &&\n    filterByGuests(offer.guests) &&\n    filterByPrice(offer.price) &&\n    filterByFeatures(offer.features)\n  );\n};\n\nconst setResetFilter = (cb) => {\n  resetButton.addEventListener('click', () => cb());\n};\n\nconst setChangeFilter = (cb) => {\n  filterForm.addEventListener('change', () => cb());\n};\n\nconst disableFilter = () => {\n  filterForm.classList.add('map__filters--disabled');\n  featuresFilter.disabled = true;\n  for (let select of selectsFilter) {\n    select.disabled = true;\n  }\n};\n\ndisableFilter();\n\nconst activateFilter = () => {\n  filterForm.classList.remove('map__filters--disabled');\n  featuresFilter.disabled = false;\n  for (let select of selectsFilter) {\n    select.disabled = false;\n  }\n};\n\nexport { activateFilter, filterForm, setResetFilter, setChangeFilter, filterOffers };\n","const FILE_TYPES = ['gif', 'jpg', 'jpeg', 'png'];\nconst IMG_DESCRIPTION = 'Фотография жилья';\nconst DEFAULT_IMG = 'img/muffin-grey.svg';\n\nconst PhotoSize = {\n  WIDTH: 40,\n  HEIGHT: 44,\n};\n\nconst avatarFileChooser = document.querySelector('.ad-form-header__input');\nconst avatarPreview = document.querySelector('.ad-form-header__preview img');\nconst houseFileChooser = document.querySelector('.ad-form__input');\nconst housePreview = document.querySelector('.ad-form__photo');\n\nconst setPreviewPhoto = (fileChoose, previewElement) => {\n  fileChoose.addEventListener('change', () => {\n    const file = fileChoose.files[0];\n    const fileName = file.name.toLowerCase();\n\n    const inCorrectExtension = FILE_TYPES.some((it) => {\n      return fileName.endsWith(it);\n    });\n\n    if (inCorrectExtension) {\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        previewElement.src = reader.result;\n      });\n\n      reader.readAsDataURL(file);\n    }\n  });\n};\n\nsetPreviewPhoto(avatarFileChooser, avatarPreview);\n\n\nconst createImgElement =  document.createElement('img');\ncreateImgElement.width = PhotoSize.WIDTH;\ncreateImgElement.height = PhotoSize.HEIGHT;\ncreateImgElement.alt = IMG_DESCRIPTION;\ncreateImgElement.src = DEFAULT_IMG;\nhousePreview.style.display = 'flex';\nhousePreview.style.justifyContent = 'center';\nhousePreview.style.alignItems = 'center';\nhousePreview.appendChild(createImgElement);\nsetPreviewPhoto(houseFileChooser, createImgElement);\n\n\nconst resetPictures = () => {\n  avatarPreview.src = DEFAULT_IMG;\n  createImgElement.src =DEFAULT_IMG;\n};\n\nexport {resetPictures};\n","const main = document.querySelector('main');\nconst successPopup = document.querySelector('#success').content;\nconst newSuccessPopup = successPopup.querySelector('.success');\n\nconst errorPopup = document.querySelector('#error').content;\nconst newErrorPopup = errorPopup.querySelector('.error').cloneNode(true);\nconst closeErrorButton = newErrorPopup.querySelector('.error__button');\n\nconst onPopupKeyDown = (evt) => {\n  if (evt.key === 'Escape' || evt.key === 'Esc') {\n    evt.preventDefault();\n    closePopup();\n  }\n};\n\nconst openSuccessPopup = () => {\n  main.appendChild(newSuccessPopup);\n  document.addEventListener('click', onPopupKeyDown);\n};\n\nconst openErrorPopup = () => {\n  main.appendChild(newErrorPopup);\n  document.addEventListener('click', onPopupKeyDown);\n};\n\nconst closePopup = () => {\n  if (main.contains(newSuccessPopup)) {\n    main.removeChild(newSuccessPopup);\n  }\n\n  if (main.contains(newErrorPopup)) {\n    main.removeChild(newErrorPopup);\n  }\n\n  document.removeEventListener('keydown', onPopupKeyDown);\n};\n\ncloseErrorButton.addEventListener('click', closePopup);\n\nmain.addEventListener('click', closePopup);\n\nexport {openSuccessPopup, openErrorPopup};\n","import {sendData} from './api.js';\nimport {filterForm} from './filters.js';\nimport {resetMap} from './main.js';\nimport {resetPictures} from './pictures.js';\nimport {openErrorPopup, openSuccessPopup} from './popup.js';\n\nconst MIN_HOUSE_PRICE = {\n  bungalow: 0,\n  flat: 1000,\n  house: 5000,\n  palace: 10000,\n};\n\nconst ROOM_CAPACITY = {\n  '1': ['1'],\n  '2': ['1', '2'],\n  '3': ['1', '2', '3'],\n  '100': ['0'],\n};\n\nconst adForm = document.querySelector('.ad-form');\nconst typeFlat = adForm.querySelector('#type');\nconst priceFlat = adForm.querySelector('#price');\nconst timeIn = adForm.querySelector('#timein');\nconst timeOut = adForm.querySelector('#timeout');\nconst fieldsets = adForm.querySelectorAll('fieldset');\nconst address = adForm.querySelector('#address');\nconst rooms = adForm.querySelector('#room_number');\nconst capacity = adForm.querySelector('#capacity');\nconst resetButton = adForm.querySelector('.ad-form__reset');\n\n\n\nconst disableForm = () => {\n  adForm.classList.add('ad-form--disabled');\n  for (let fieldset of fieldsets) {\n    fieldset.disabled = true;\n  }\n};\n\ndisableForm();\n\nconst activateForm =() => {\n  adForm.classList.remove('ad-form--disabled');\n  for (let fieldset of fieldsets) {\n    fieldset.disabled = false;\n  }\n};\n\nconst validatePrice = () => {\n  priceFlat.placeholder = MIN_HOUSE_PRICE[typeFlat.value];\n  priceFlat.min = MIN_HOUSE_PRICE[typeFlat.value];\n};\n\ntypeFlat.addEventListener('change', validatePrice);\n\nconst validateCheckIn = () => {\n  timeIn.addEventListener('change', () => timeOut.value = timeIn.value);\n  timeOut.addEventListener('change', () => timeIn.value = timeOut.value);\n};\n\nconst validateCapacity = (peopleAmount) => {\n  const capacityOptions = capacity.querySelectorAll('option');\n\n  capacityOptions.forEach((option) => {\n    option.disabled = true;\n  });\n\n  ROOM_CAPACITY[peopleAmount].forEach((seatsAmount) => {\n    capacityOptions.forEach((option) => {\n      if (option.value === seatsAmount) {\n        option.disabled = false;\n        option.selected = true;\n      }\n    });\n  });\n};\n\nrooms.addEventListener('change', () => {\n  validateCapacity(rooms.value);\n});\n\ncapacity.addEventListener('focus', () => {\n  validateCapacity(rooms.value);\n});\n\nconst resetForm = () => {\n  adForm.reset();\n  filterForm.reset();\n  resetMap();\n  resetPictures();\n};\n\n\nresetButton.addEventListener('click', (evt) => {\n  evt.preventDefault();\n  resetForm();\n});\n\nconst setUserFormSubmit = (onSuccess) => {\n  adForm.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n\n    sendData(\n      () => onSuccess(openSuccessPopup()),\n      () => openErrorPopup(),\n      new FormData(evt.target),\n    );\n  });\n};\n\nsetUserFormSubmit(resetForm);\n\n\nexport {activateForm, address,validatePrice, validateCheckIn, setUserFormSubmit, resetButton};\n","import {showAlert} from './util.js';\n\nconst RECEIVING_LINK = 'https://22.javascript.pages.academy/keksobooking/data';\nconst DEPARTURE_LINK = 'https://22.javascript.pages.academy/keksobooking';\n\nconst getData = (onSuccess) => {\n  fetch(RECEIVING_LINK)\n    .then((response) => response.json())\n    .catch(showAlert)\n    .then(onSuccess)\n};\n\nconst sendData = (onSuccess, onFail, body) => {\n  fetch(\n    DEPARTURE_LINK,\n    {\n      method: 'POST',\n      body,\n    },\n  )\n    .then((response) => {\n      if (response.ok) {\n        onSuccess();\n      } else {\n        onFail();\n      }\n    })\n    .catch(() => {\n      onFail();\n    });\n};\n\nexport {getData, sendData};\n","import {activateFilter, filterOffers} from './filters.js';\nimport {activateForm, address, validatePrice, validateCheckIn} from './form.js';\nimport {generateCard} from './card.js';\n\nconst COORDINATES = {\n  lat: 35.65841,\n  lng: 139.78145,\n};\n\nconst ZOOM = 12;\n\nconst OFFERS_COUNT = 10;\n\nconst setDefaultAddress = () => {\n  address.value = `${COORDINATES.lat}, ${COORDINATES.lng}`\n};\n\n/* global L:readonly */\n\nconst map = L.map('map-canvas')\n  .on('load', () => {\n    activateFilter();\n    activateForm();\n    validatePrice(),\n    validateCheckIn(),\n    setDefaultAddress();\n  })\n  .setView({\n    lat: COORDINATES.lat,\n    lng: COORDINATES.lng,\n  }, ZOOM);\n\nL.tileLayer(\n  'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n  {\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n  },\n).addTo(map);\n\nconst mainPinMarker = L.icon({\n  iconUrl: './img/main-pin.svg',\n  iconSize: [40, 40],\n  iconAnchor: [20, 40],\n});\n\nconst mainMarker = L.marker(\n  {\n    lat: COORDINATES.lat,\n    lng: COORDINATES.lng,\n  },\n  {\n    draggable: true,\n    icon: mainPinMarker,\n  },\n);\n\nmainMarker.addTo(map);\n\nmainMarker.on('moveend', (evt) => {\n  address.value = `${evt.target.getLatLng().lat.toFixed(5)}, ${evt.target.getLatLng().lng.toFixed(5)}`;\n});\n\nconst anotherPin = L.icon({\n  iconUrl: './img/pin.svg',\n  iconSize: [40, 40],\n  iconAnchor: [20, 40],\n});\n\nlet markers = [];\n\nconst removeMarkers = () => {\n  markers.forEach((marker) => map.removeLayer(marker));\n  markers = [];\n};\n\nconst renderOffersOnMap = (offers) => {\n  offers\n    .slice()\n    .filter(filterOffers)\n    .slice(0, OFFERS_COUNT)\n    .forEach((offer) => {\n\n      const anotherMarker = L.marker(\n        {\n          lat: offer.location.lat,\n          lng: offer.location.lng,\n        },\n        {\n          icon: anotherPin,\n        },\n      );\n\n      anotherMarker\n        .addTo(map)\n        .bindPopup(generateCard(offer));\n      markers.push(anotherMarker);\n    });\n};\n\nconst resetMapCondition = () => {\n  map.setView(COORDINATES, ZOOM);\n  mainMarker.setLatLng(COORDINATES);\n  setDefaultAddress();\n};\n\nexport {resetMapCondition, renderOffersOnMap, removeMarkers};\n","/* global _:readonly */\nimport './util.js';\nimport './data.js';\nimport './card.js';\nimport './form.js';\nimport './filters.js';\nimport './map.js';\nimport './api.js';\nimport './popup.js';\nimport './pictures.js'\nimport {resetMapCondition, renderOffersOnMap, removeMarkers} from './map.js';\nimport {getData} from './api.js';\nimport {setChangeFilter, setResetFilter} from './filters.js';\n\nconst RERENDER_DELAY = 500;\n\ngetData((offers) =>{\n  renderOffersOnMap(offers);\n  setChangeFilter(_.debounce(() => {\n    removeMarkers();\n    renderOffersOnMap(offers);\n  }, RERENDER_DELAY));\n  setResetFilter(() => renderOffersOnMap(offers));\n});\n\nconst resetMap = () => {\n  resetMapCondition();\n};\n\nexport {resetMap};\n\n"],"sourceRoot":""}